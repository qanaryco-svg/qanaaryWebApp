(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{314:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blog",function(){return l(6360)}])},6360:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return AdminBlogPage}});var s=l(5893),n=l(5152),a=l.n(n),i=l(7294),d=l(8675);l(7676);let r=a()(()=>Promise.all([l.e(937),l.e(156)]).then(l.t.bind(l,1167,23)),{loadableGenerated:{webpack:()=>[1167]},ssr:!1});function AdminBlogPage(){let[e,t]=(0,i.useState)([{id:"1",title:"راهنمای انتخاب لباس زنانه",content:"نکات مهم برای انتخاب لباس مناسب فصل و استایل شما.",tags:["لباس","مد"]},{id:"2",title:"مد روز در سال 2025",content:"بررسی ترندهای مد و لباس زنانه در سال جاری.",tags:["مد","لباس زنانه"]}]),[l,n]=(0,i.useState)(null),[a,r]=(0,i.useState)(null),handleDelete=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,s.jsx)(d.Z,{children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"مدیریت مطالب وبلاگ"}),l?(0,s.jsx)(BlogForm,{post:l,onSave:e=>{l?t(t=>t.map(t=>t.id===e.id?e:t)):t(t=>[...t,{...e,id:String(Date.now())}]),n(null)},onCancel:()=>n(null)}):(0,s.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded mb-4",onClick:()=>n({id:"",title:"",content:"",tags:[]}),children:"افزودن مطلب جدید"}),(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"border rounded p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.content}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:["برچسب‌ها: ",e.tags.join(", ")]}),(0,s.jsx)("button",{className:"px-3 py-1 bg-yellow-500 text-white rounded mr-2",onClick:()=>n(e),children:"ویرایش"}),(0,s.jsx)("button",{className:"px-3 py-1 bg-red-500 text-white rounded",onClick:()=>handleDelete(e.id),children:"حذف"})]},e.id))})]})})}function BlogForm(e){let{post:t,onSave:l,onCancel:n}=e,[a,d]=(0,i.useState)(t.title),[o,c]=(0,i.useState)(t.content),[u,m]=(0,i.useState)(t.tags.join(", ")),[x,h]=(0,i.useState)(null),[p,b]=(0,i.useState)("");return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l({...t,title:a,content:o,tags:u.split(",").map(e=>e.trim())})},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"عنوان"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>d(e.target.value),className:"w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"محتوا"}),(0,s.jsx)(r,{value:o,onChange:c,className:"w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"برچسب‌ها (با کاما جدا کنید)"}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),className:"w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"متا توضیحات (اختیاری)"}),(0,s.jsx)("input",{type:"text",value:p,onChange:e=>b(e.target.value),className:"w-full border rounded px-3 py-2"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-green-500 text-white rounded",children:"ذخیره"}),(0,s.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-500 text-white rounded",onClick:n,children:"انصراف"}),(0,s.jsx)("button",{type:"button",className:"px-4 py-2 bg-indigo-500 text-white rounded",onClick:()=>{let e=function(e){let{title:t,content:l,metaDescription:s,images:n}=e,a=0,i=[],d=t||"",r=s||"",o=(l||"").replace(/<[^>]+>/g,"");d.length>=20&&d.length<=60?a+=20:i.push("طول عنوان مناسب نیست (۲۰-۶۰ کاراکتر)"),r.length>=50&&r.length<=160?a+=20:i.push("توضیحات متا مناسب نیست (۵۰-۱۶۰ کاراکتر)");let c=o.split(/\s+/).filter(Boolean).length;c>=300?a+=20:i.push("متن باید حداقل ۳۰۰ کلمه باشد");let u=(n||[]).filter(e=>!e.alt).length;(n||[]).length>0&&0===u?a+=20:(n||[]).length>0?i.push("برخی تصاویر متن جایگزین (alt) ندارند"):i.push("تصویر برای مطلب اضافه نشده است");let m=(d.split(" ")[0]||"").toLowerCase();return m&&o.toLowerCase().includes(m)?a+=20:i.push("کلمه کلیدی هدف در متن استفاده نشده است"),{score:a,issues:i}}({title:a,content:o,metaDescription:p,images:[]});h(e)},children:"بررسی سئو"})]}),x&&(0,s.jsxs)("div",{className:"mt-4 p-3 border rounded",children:[(0,s.jsxs)("div",{className:"font-semibold",children:["سکور سئو: ",x.score,"%"]}),(0,s.jsx)("ul",{className:"list-disc pl-6 mt-2 text-sm text-gray-600",children:x.issues.map(e=>(0,s.jsx)("li",{children:e},e))})]})]})}},7676:function(){}},function(e){e.O(0,[424,594,675,774,888,179],function(){return e(e.s=314)}),_N_E=e.O()}]);